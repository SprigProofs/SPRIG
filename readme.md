# Sprig

www.sprig.ch

A description of the SPRIG protocol can be found here: https://export.arxiv.org/abs/2102.03044v1

This repository contains a centralised version of the SPRIG protocol
whose purpose is to experiment with the protocol
and to serve as future reference for a decentralised version.

The protocol is implemented as a library
in [`sprig.py`](./sprig.py) and a Web API is
developped in [`api.py`](./api.py).

There are four parts in this repository:
 - The SPRIG Library, written in Python and without any dependency -> [`sprig.py`](./sprig.py)
 - A collection of languages descriptions that provide the backend of the protocol -> [`languages/`](./languages)
 - An web API, written in Python with FastAPI -> [`api.py`](./api.py)
 - A web interface, written in Vue 3 -> [`frontend/`](./frontend)


## SPRIG library

Status: *Completed*
Dependencies: Python 3.8

The library contains the logic of the protocol agnostic of the underlying proof language.
It can handle claim and challenges, stakes and bounties and updates SPRIG Trees over time.

## Languages

Status: *In Progress*
Dependencies: Python 3.8

Languages specify the format of claims and the low level verification mechanisms.
The only completed language is currently a toy language to represent Tic Tac Toe games.
We currently study how to interface [Lean 3](https://leanprover.github.io/).

## Web API / Server

Status: *Broken* (not adapted to the last updates of the library)
Dependencies: Python 3.8, FastAPI

The API / Server is the interface from the library code to the web, so that modifications of SPRIG trees
can be made by HTTP requests. The API is generated by FastAPI which provides documentation (with the OpenAPI format)
and communicates via the standard JSON format.

## Web Interface

Status: *To be rewritten*
Dependencies: Vue 3, Vite

The Web interface is the user facing part of the project.

### For developpers

We use the [Vite](https://vitejs.dev/) build tool, which is the standard for Vue 3 projects.
All dependencies for the web can be installed with

```shell script
cd frontend
npn install
```

## Dependencies

This code is meant to be run with a recent version of Python (>= 3.8),
and the web api need `FastAPI` (`pip install fastapi`) to run.
It can be run with `uvicorn` as
```shell script
uvicorn api:api
```

Alternatively, if you have `make`, `poetry` and `npm` installed,
you can run `make install` to get the dependencies and
then `make run` or `make dev` to start the server in production
or development mode.


###
